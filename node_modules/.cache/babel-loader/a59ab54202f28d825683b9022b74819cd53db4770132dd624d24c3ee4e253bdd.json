{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ELMDINA\\\\Desktop\\\\Route-Ecommerce-main\\\\src\\\\Context\\\\WishlistContext.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport let WishlistContext = /*#__PURE__*/createContext();\nexport function WishlistContextProvider({\n  children\n}) {\n  _s();\n  let [loading, setLoading] = useState(false);\n  let [wishlistData, setwishlistData] = useState(null);\n\n  // Get User's Wishlist\n  async function getWishlist() {\n    const headersOptions = {\n      token: localStorage.getItem(\"userToken\")\n    };\n    setLoading(true);\n    try {\n      let request = await axios.get(`https://ecommerce.routemisr.com/api/v1/wishlist`, {\n        headers: headersOptions\n      });\n      if (request.data.status === \"success\") {\n        setwishlistData(request.data.data);\n      }\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Adding Product To Wishlist\n  async function addToWishlist(productId) {\n    const body = {\n      productId: productId\n    };\n    const headersOptions = {\n      token: localStorage.getItem(\"userToken\")\n    };\n    try {\n      let request = await axios.post(`https://ecommerce.routemisr.com/api/v1/wishlist`, body, {\n        headers: headersOptions\n      });\n      if (request.data.status === \"success\") {\n        toast.success(\"Product added successfully. ðŸ˜Š\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"colored\"\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  // Deleting Product form User's Wishlist\n  async function deleteFromWishlist(productId) {\n    const headersOptions = {\n      token: localStorage.getItem(\"userToken\")\n    };\n    setLoading(true);\n    try {\n      let request = await axios.delete(`https://ecommerce.routemisr.com/api/v1/wishlist/${productId}`, {\n        headers: headersOptions\n      });\n      if (request.data.status === \"success\") {\n        let updatedWishlist = wishlistData.filter(item => item._id !== productId);\n        setwishlistData(updatedWishlist);\n      }\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(WishlistContext.Provider, {\n    value: {\n      loading,\n      wishlistData,\n      getWishlist,\n      addToWishlist,\n      deleteFromWishlist\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n_s(WishlistContextProvider, \"QmtPSl9mt0iq0cIHfBQd8v4LdD0=\");\n_c = WishlistContextProvider;\nvar _c;\n$RefreshReg$(_c, \"WishlistContextProvider\");","map":{"version":3,"names":["axios","createContext","useState","toast","jsxDEV","_jsxDEV","WishlistContext","WishlistContextProvider","children","_s","loading","setLoading","wishlistData","setwishlistData","getWishlist","headersOptions","token","localStorage","getItem","request","get","headers","data","status","err","console","log","addToWishlist","productId","body","post","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","deleteFromWishlist","delete","updatedWishlist","filter","item","_id","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ELMDINA/Desktop/Route-Ecommerce-main/src/Context/WishlistContext.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { createContext, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport let WishlistContext = createContext();\r\nexport function WishlistContextProvider({ children }) {\r\n  let [loading, setLoading] = useState(false);\r\n  let [wishlistData, setwishlistData] = useState(null);\r\n\r\n  // Get User's Wishlist\r\n  async function getWishlist() {\r\n    const headersOptions = {\r\n      token: localStorage.getItem(\"userToken\"),\r\n    };\r\n    setLoading(true);\r\n    try {\r\n      let request = await axios.get(\r\n        `https://ecommerce.routemisr.com/api/v1/wishlist`,\r\n        {\r\n          headers: headersOptions,\r\n        }\r\n      );\r\n      if (request.data.status === \"success\") {\r\n        setwishlistData(request.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // Adding Product To Wishlist\r\n  async function addToWishlist(productId) {\r\n    const body = {\r\n      productId: productId,\r\n    };\r\n    const headersOptions = {\r\n      token: localStorage.getItem(\"userToken\"),\r\n    };\r\n    try {\r\n      let request = await axios.post(\r\n        `https://ecommerce.routemisr.com/api/v1/wishlist`,\r\n        body,\r\n        {\r\n          headers: headersOptions,\r\n        }\r\n      );\r\n      if (request.data.status === \"success\") {\r\n        toast.success(\"Product added successfully. ðŸ˜Š\", {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"colored\",\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  // Deleting Product form User's Wishlist\r\n  async function deleteFromWishlist(productId) {\r\n    const headersOptions = {\r\n      token: localStorage.getItem(\"userToken\"),\r\n    };\r\n    setLoading(true);\r\n    try {\r\n      let request = await axios.delete(\r\n        `https://ecommerce.routemisr.com/api/v1/wishlist/${productId}`,\r\n        {\r\n          headers: headersOptions,\r\n        }\r\n      );\r\n      if (request.data.status === \"success\") {\r\n        let updatedWishlist = wishlistData.filter(\r\n          (item) => item._id !== productId\r\n        );\r\n        setwishlistData(updatedWishlist);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <WishlistContext.Provider\r\n      value={{\r\n        loading,\r\n        wishlistData,\r\n        getWishlist,\r\n        addToWishlist,\r\n        deleteFromWishlist,\r\n      }}\r\n    >\r\n      {children}\r\n    </WishlistContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,KAAK,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,OAAO,IAAIC,eAAe,gBAAGL,aAAa,CAAC,CAAC;AAC5C,OAAO,SAASM,uBAAuBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACpD,IAAI,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC3C,IAAI,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;;EAEpD;EACA,eAAeY,WAAWA,CAAA,EAAG;IAC3B,MAAMC,cAAc,GAAG;MACrBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,WAAW;IACzC,CAAC;IACDP,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,IAAIQ,OAAO,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAC1B,iDAAgD,EACjD;QACEC,OAAO,EAAEN;MACX,CACF,CAAC;MACD,IAAII,OAAO,CAACG,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;QACrCV,eAAe,CAACM,OAAO,CAACG,IAAI,CAACA,IAAI,CAAC;MACpC;IACF,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,SAAS;MACRb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;;EAEA;EACA,eAAegB,aAAaA,CAACC,SAAS,EAAE;IACtC,MAAMC,IAAI,GAAG;MACXD,SAAS,EAAEA;IACb,CAAC;IACD,MAAMb,cAAc,GAAG;MACrBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,WAAW;IACzC,CAAC;IACD,IAAI;MACF,IAAIC,OAAO,GAAG,MAAMnB,KAAK,CAAC8B,IAAI,CAC3B,iDAAgD,EACjDD,IAAI,EACJ;QACER,OAAO,EAAEN;MACX,CACF,CAAC;MACD,IAAII,OAAO,CAACG,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;QACrCpB,KAAK,CAAC4B,OAAO,CAAC,gCAAgC,EAAE;UAC9CC,QAAQ,EAAE,WAAW;UACrBC,SAAS,EAAE,IAAI;UACfC,eAAe,EAAE,KAAK;UACtBC,YAAY,EAAE,IAAI;UAClBC,YAAY,EAAE,IAAI;UAClBC,SAAS,EAAE,IAAI;UACfC,QAAQ,EAAEC,SAAS;UACnBC,KAAK,EAAE;QACT,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOhB,GAAG,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB;EACF;;EAEA;EACA,eAAeiB,kBAAkBA,CAACb,SAAS,EAAE;IAC3C,MAAMb,cAAc,GAAG;MACrBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,WAAW;IACzC,CAAC;IACDP,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,IAAIQ,OAAO,GAAG,MAAMnB,KAAK,CAAC0C,MAAM,CAC7B,mDAAkDd,SAAU,EAAC,EAC9D;QACEP,OAAO,EAAEN;MACX,CACF,CAAC;MACD,IAAII,OAAO,CAACG,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;QACrC,IAAIoB,eAAe,GAAG/B,YAAY,CAACgC,MAAM,CACtCC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKlB,SACzB,CAAC;QACDf,eAAe,CAAC8B,eAAe,CAAC;MAClC;IACF,CAAC,CAAC,OAAOnB,GAAG,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,SAAS;MACRb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,oBACEN,OAAA,CAACC,eAAe,CAACyC,QAAQ;IACvBC,KAAK,EAAE;MACLtC,OAAO;MACPE,YAAY;MACZE,WAAW;MACXa,aAAa;MACbc;IACF,CAAE;IAAAjC,QAAA,EAEDA;EAAQ;IAAAyC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAE/B;AAAC3C,EAAA,CAnGeF,uBAAuB;AAAA8C,EAAA,GAAvB9C,uBAAuB;AAAA,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}